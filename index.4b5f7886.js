!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},n.parcelRequired7c6=a),a.register("iE7OH",(function(t,n){var r,o;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var a={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},o=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a.register("aNJCr",(function(t,n){var r;e(t.exports,"getBundleURL",(function(){return r}),(function(e){return r=e}));var o={};function a(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=o[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return a(e[2])}return"/"}(),o[e]=t),t}})),a("iE7OH").register(JSON.parse('{"EVgbq":"index.4b5f7886.js","9jv9o":"coming-soon.6dfb66e2.jpg","5UbS1":"index.2331cdca.css","2hvCh":"index.b4a09e97.js"}'));var i,c=a("7rQOT");i=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("9jv9o");var s=document.querySelector(".js-movie-card");function l(e){c.Loading.circle(),s.innerHTML="";var n=e.results,r=JSON.parse(localStorage.getItem("genres")).genres,o=n.map((function(e){var n=e.genre_ids.map((function(e){return r.find((function(t){return t.id===e}))})).map((function(e){return e.name})),o="",a=null===e.poster_path?"".concat(t(i)):"".concat("https://www.themoviedb.org/t/p/w500").concat(e.poster_path);return Object.keys(e).includes("release_date")&&(""!==e.release_date&&(o=e.release_date.split("").slice(0,4).join("")),""===e.release_date&&(o=" . . . .")),n=n.length>2?n.slice(0,2).join(", ")+", Other":n.length<1?"Info is not specified":n.join(", "),'<li id="'.concat(e.id,'" class="movie-card__list">\n                <article>\n                  <img class="movie-card__poster" src="').concat(a,'" loading="lazy" alt="').concat(e.title,'">\n                  <div class="js-genres">\n                  <h2 class="movie-card__title" data-id="').concat(e.id,'">').concat(e.title,'</h2>\n                       <p class="movie-card__geners">').concat(n," | ").concat(o,"</p>\n                    \n                    </div>\n              </article>\n            </li>")})).join("");s.insertAdjacentHTML("beforeend",o),c.Loading.remove(1e3)}c.Loading.init({svgSize:"120px",svgColor:"#c4c4c4",backgroundColor:"rgba(0, 0, 0, 0.3)"});var d=a("bpxeT"),u=a("2TvXO"),p=a("dIxxU"),g=a("aYvV9");p.default.defaults.baseURL="https://api.themoviedb.org/3";var m=document.querySelector(".js-movie-card"),v="687f60735406ee0172c31461de2476ff",f="/trending/movie/week";function h(){return b.apply(this,arguments)}function b(){return b=t(d)(t(u).mark((function e(){var n,r,o,a=arguments;return t(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:1,e.prev=1,e.next=4,p.default.get("".concat(f,"?api_key=").concat(v,"&page=").concat(n));case 4:return r=e.sent,o=r.data,e.abrupt("return",o);case 9:e.prev=9,e.t0=e.catch(1),e.t0.response?(console.log(e.t0.response.data),console.log(e.t0.response.status),console.log(e.t0.response.headers)):e.t0.request?console.log(e.t0.request):console.log("Error",e.t0.message),console.log(e.t0.config);case 13:case"end":return e.stop()}}),e,null,[[1,9]])}))),b.apply(this,arguments)}localStorage.setItem("render-key","fetch-movies"),p.default.get("".concat("/genre/movie/list","?api_key=").concat(v,"&language=en-US")).then((function(e){return localStorage.setItem("genres",JSON.stringify(e.data))})).catch((function(e){return console.error(e)})),h().then((function(e){if(void 0===e)return(0,g.failRequest)(),m.insertAdjacentHTML("beforeend",'<h1 class="failRequest" >Why did you deliberately break the code?</h1>');l(e),q(1,e.total_pages)})).catch(console.error());d=a("bpxeT"),u=a("2TvXO"),p=a("dIxxU"),g=a("aYvV9");(c=a("7rQOT")).Loading.init({svgSize:"120px",svgColor:"#c4c4c4",backgroundColor:"rgba(0, 0, 0, 0.3)"});var y=document.querySelector(".js-movie-card"),k=document.querySelector(".js-search-input");function L(e){return _.apply(this,arguments)}function _(){return _=t(d)(t(u).mark((function e(n){var r,o,a,i=arguments;return t(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:1,e.prev=1,e.next=4,p.default.get("https://api.themoviedb.org/3/search/movie?api_key=d60997a7e23cda835c1c23368c69f903&query=".concat(n,"&page=").concat(r));case 4:return o=e.sent,a=o.data,e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(1),S(),(0,g.errorNotification)();case 13:case"end":return e.stop()}}),e,null,[[1,9]])}))),_.apply(this,arguments)}function S(){h().then((function(e){l(e),q(1,e.total_pages)})).catch(console.error())}document.querySelector(".js-search-form").addEventListener("submit",(function(e){c.Loading.circle(),e.preventDefault(),y.innerHTML="";var t=k.value.trim();""==t?((0,g.emptyQueryNotification)(),S()):L(t,1).then((function(e){e?0===e.results.length?((0,g.noMatchesNotification)(),S()):(localStorage.setItem("film-name",t),l(e),q(1,e.total_pages)):((0,g.noMatchesNotification)(),S())}));localStorage.setItem("render-key","search-movies"),e.currentTarget.reset()}));var x=document.querySelector(".js-pagination-box"),w=0,E=0;function q(e,t){var n="",r=e-1,o=e+2,a=e+1;w=e,e>1?n+='<li class="item-pag"><button type="button" class="link-pag link-pag--btn btn-left btn-rotate"></button></li>':1===e&&(n+='<li class="item-pag"><button type="button" class="link-pag link-pag--btn btn-rotate link-pag--hidden" ></button></li>'),e>1&&(n+='<li class="item-pag item-none"><button type="button" class="link-pag" >1</button></li>'),e>4&&(n+='<li class="item-pag item-none"><button type="button" class="link-pag btn-pointer-event" >...</button></li>'),e>3&&(n+='<li class="item-pag"><button type="button" class="link-pag" >'.concat(e-2,"</button></li>")),e>2&&(n+='<li class="item-pag"><button type="button" class="link-pag" >'.concat(r,"</button></li>")),n+='<li class="item-pag">\n        <button type="button" class="link-pag" >'.concat(e,"</button>\n      </li>"),t-1>e&&(n+='<li class="item-pag"><button type="button" class="link-pag" >'.concat(a,"</button></li>")),t-2>e&&(n+='<li class="item-pag"><button type="button" class="link-pag" >'.concat(o,"</button></li>")),t-3>e&&(n+='<li class="item-pag item-none"><button type="button" class="link-pag btn-pointer-event" >...</button></li>'),t>e&&(n+='<li class="item-pag item-none">\n        <button type="button" class="link-pag" >'.concat(t,"</button>\n      </li>")),t>e?n+='<li class="item-pag"><button type="button" class="link-pag link-pag--btn btn-right"></button></li>':t===e&&(n+='<li class="item-pag"><button type="button" class="link-pag link-pag--btn link-pag--hidden"></button></li>'),x.innerHTML=n,function(e,t){e<5?E=e:e===t?E=5:e<=5?(E=0,E=e):6===e&&(E=5);x.children[E].firstElementChild.classList.add("current")}(e,t);var i=document.querySelector(".film-card-box").firstElementChild.getBoundingClientRect().height;window.scrollBy({top:-i,behavior:"smooth"})}x.addEventListener("click",(function(e){if(Boolean(e.target.closest(".btn-right")))return w+=1,"search-movies"===localStorage.getItem("render-key")&&L(localStorage.getItem("film-name"),w).then((function(e){l(e),q(w,e.total_pages)})),void("fetch-movies"===localStorage.getItem("render-key")&&h(w).then((function(e){l(e),q(w,e.total_pages)})));if(Boolean(e.target.closest(".btn-left")))return w-=1,"search-movies"===localStorage.getItem("render-key")&&L(localStorage.getItem("film-name"),w).then((function(e){l(e),q(w,e.total_pages)})),void("fetch-movies"===localStorage.getItem("render-key")&&h(w).then((function(e){l(e),q(w,e.total_pages)})));if("BUTTON"!==e.target.nodeName)return;if("..."===e.target.textContent)return;var t=Number(e.target.textContent);"search-movies"===localStorage.getItem("render-key")&&L(localStorage.getItem("film-name"),t).then((function(e){l(e),q(t,e.total_pages)}));"fetch-movies"===localStorage.getItem("render-key")&&h(t).then((function(e){l(e),q(t,e.total_pages)}))}));d=a("bpxeT"),u=a("2TvXO"),p=a("dIxxU"),c=a("7rQOT");var T=a("l5SaA"),j=a("4MHRn"),N=a("1US9i");c.Loading.init({svgSize:"120px",svgColor:"#c4c4c4",backgroundColor:"rgba(0, 0, 0, 0.3)"});var H=document.querySelector(".modal-close-btn"),O=document.querySelector(".movie-card"),M=document.querySelector(".modal-card-box"),I=document.querySelector(".modal-film-content"),C=document.querySelector(".backdrop"),A=document.querySelector(".watched-btn"),R=document.querySelector(".queue-btn"),U=document.querySelector("body"),V=(document.querySelector(".modal-film-card"),document.querySelector(".js-trailer-btn")),z=document.querySelector(".backdrop-trailer"),B=document.querySelector(".close-trailer-modal-btn"),F=document.querySelector(".modal-video_wrapper"),Q=document.querySelector(".gallery");function J(){return(J=t(d)(t(u).mark((function e(n){var r,o,a,i;return t(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),U.style.overflow="hidden",document.addEventListener("click",Y),r=n.target.closest("li"),o=r.getAttribute("id"),e.next=8,P(o);case 8:a=e.sent,c.Loading.circle(),i=a.data,localStorage.setItem("movie-from-open-modal",JSON.stringify(i)),D(i),V.classList.remove("is-hidden"),(0,j.getTrailerVideos)(o).then((function(e){e.length<=1?(V.classList.add("is-hidden"),document.querySelector(".single-trailer-wrapper").classList.add("is-hidden")):((0,j.createMainTrailerLink)(e),(0,j.createTrailerModalMarkup)(e))})),(0,N.getMoviePosters)(o).then((function(e){0===e.length?Q.classList.add("is-hidden"):(0,N.createMoviePostersGallery)(e)})),(0,T.isWatched)(),(0,T.isQueue)(),c.Loading.remove(500),C.classList.remove("is-hidden"),document.addEventListener("keydown",X),H.addEventListener("click",G),C.classList.contains("is-hidden")||(A.addEventListener("click",T.handleAddToWatched),R.addEventListener("click",T.handleAddToQueue)),C.classList.contains("is-hidden")&&(A.removeEventListener("click",T.handleAddToWatched),R.removeEventListener("click",T.handleAddToQueue)),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(0),console.log(e.t0);case 29:case"end":return e.stop()}}),e,null,[[0,26]])})))).apply(this,arguments)}function D(e){var t=e.genres.map((function(e){return e.name})),n=e.overview;n.length===Number(0)&&(n="Currently description in unavailiable due to lack of information from producers"),t=t.length===Number(0)?"Info is not specified":t.join(", ");var r="https://image.tmdb.org/t/p/w500".concat(e.poster_path);null===e.poster_path&&(r="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/No_image_available_500_x_500.svg/500px-No_image_available_500_x_500.svg.png"),M.innerHTML='<img id="'.concat(e.id,'" src="').concat(r,'" alt="').concat(e.title,'" class="modal-img"/>'),I.innerHTML='<h2 class="modal-title">'.concat(e.title,'</h2>\n        <table><tbody>\n      <tr>\n        <td class="characteristic td">Vote/Votes</td>\n        <td class="description"><span class="vote">').concat(Number(e.vote_average).toFixed(2),'</span>&nbsp;<span class="characteristic">/</span> &nbsp; ').concat(e.vote_count,'</td>\n      </tr>\n      <tr>\n        <td class="characteristic td">Popularity</td>\n        <td class="description">').concat(Number(e.popularity).toFixed(2),'</td>\n      </tr>\n      <tr>\n        <td class="characteristic td">Original title</td>\n        <td class="description description-title">').concat(e.title,'</td>\n      </tr>\n      <tr>\n        <td class="characteristic td">Genre</td>\n        <td class="description">').concat(t,'</td>\n      </tr>\n    </tbody>\n    </table>\n    <div class="single-trailer-wrapper"></div>\n      <h3 class="description-title">About</h3>\n    <p class="description-text">').concat(n,"</p>")}function P(e){return W.apply(this,arguments)}function W(){return(W=t(d)(t(u).mark((function e(n){return t(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.default.get("https://api.themoviedb.org/3/movie/".concat(n,"?api_key=cbdd4abbcb92dd438a6c3b40fc45e1be"));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function X(e){"Escape"===e.key&&(C.classList.add("is-hidden"),document.removeEventListener("click",X),U.style.overflow="visible")}function G(){C.classList.add("is-hidden"),H.removeEventListener("click",G),U.style.overflow="visible"}function Y(e){"backdrop"===e.target.className&&(C.classList.add("is-hidden"),document.removeEventListener("click",Y),U.style.overflow="visible")}function $(e){"backdrop-trailer"===e.target.className&&(z.classList.add("is-hidden"),document.removeEventListener("click",Y),U.style.overflow="visible")}function Z(e){"Escape"===e.key&&(z.classList.add("is-hidden"),document.removeEventListener("click",X),U.style.overflow="visible")}O.addEventListener("click",(function(e){return J.apply(this,arguments)})),V.addEventListener("click",(function(e){e.preventDefault(),z.classList.remove("is-hidden"),document.addEventListener("click",$),document.addEventListener("keydown",Z)})),B.addEventListener("click",(function(e){z.classList.add("is-hidden"),B.removeEventListener("click",G),U.style.overflow="visible",F.innerHTML="";var t=document.querySelector(".modal-img").getAttribute("id");(0,j.getTrailerVideos)(t).then((function(e){e.length<=1?(V.classList.add("is-hidden"),document.querySelector(".single-trailer-wrapper").classList.add("is-hidden")):(0,j.createTrailerModalMarkup)(e)}))})),a("aZhHc"),a("dozxP"),a("4MHRn")}();
//# sourceMappingURL=index.4b5f7886.js.map
