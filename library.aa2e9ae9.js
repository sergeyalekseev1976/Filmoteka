!function(){function e(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},a={},r=n.parcelRequired7c6;function o(e,t){for(var n=[];e.length;)n.push(e.splice(0,t));return n}null==r&&((r=function(e){if(e in i)return i[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return i[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},n.parcelRequired7c6=r),r.register("iE7OH",(function(t,n){var i,a;e(t.exports,"register",(function(){return i}),(function(e){return i=e})),e(t.exports,"resolve",(function(){return a}),(function(e){return a=e}));var r={};i=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)r[t[n]]=e[t[n]]},a=function(e){var t=r[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),r.register("aNJCr",(function(t,n){var i;e(t.exports,"getBundleURL",(function(){return i}),(function(e){return i=e}));var a={};function r(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}i=function(e){var t=a[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return r(e[2])}return"/"}(),a[e]=t),t}})),r("iE7OH").register(JSON.parse('{"2Y0K8":"library.aa2e9ae9.js","9jv9o":"coming-soon.6dfb66e2.jpg","5UbS1":"index.2331cdca.css","2hvCh":"index.b4a09e97.js"}'));var s;s=r("aNJCr").getBundleURL("2Y0K8")+r("iE7OH").resolve("9jv9o");var c=document.querySelector(".js-library-movie-card");function l(e){c.innerHTML="";var n=e.map((function(e){var n=e.genres.map((function(e){return e.name})),i="",a=null===e.poster_path?"".concat(t(s)):"".concat("https://www.themoviedb.org/t/p/w500").concat(e.poster_path);return Object.keys(e).includes("release_date")&&(""!==e.release_date&&(i=e.release_date.split("").slice(0,4).join("")),""===e.release_date&&(i=" . . . .")),n=n.length>2?n.slice(0,2).join(", ")+", Other":n.length<1?"info is being specified":n.join(", "),'<li id="'.concat(e.id,'" class="movie-card__list">\n                <article>\n                  <img class="movie-card__poster" src="').concat(a,'" loading="lazy" alt="').concat(e.title,'">\n                  <div class="js-genres">\n                  <h2 class="movie-card__title" data-id="').concat(e.id,'">').concat(e.title,'</h2>\n                       <p class="movie-card__geners">').concat(n," | ").concat(i,' <span class="film-vote">').concat(Number(e.vote_average).toFixed(2),"</span></p>\n                    \n                    </div>\n              </article>\n            </li>")})).join("");c.insertAdjacentHTML("beforeend",n)}var d=document.querySelector(".js-btn-queue"),u=document.querySelector(".js-pagination-box"),p=0,m=0;function g(e,t){var n="",i=e-1,a=e+2,r=e+1;p=e,e>1?n+='<li class="item-pag"><button type="button" class="link-pag link-pag--btn btn-left btn-rotate"></button></li>':1===e&&(n+='<li class="item-pag"><button type="button" class="link-pag link-pag--btn btn-rotate link-pag--hidden" ></button></li>'),e>1&&(n+='<li class="item-pag item-none"><button type="button" class="link-pag" >1</button></li>'),e>4&&(n+='<li class="item-pag item-none"><button type="button" class="link-pag btn-pointer-event" >...</button></li>'),e>3&&(n+='<li class="item-pag"><button type="button" class="link-pag" >'.concat(e-2,"</button></li>")),e>2&&(n+='<li class="item-pag"><button type="button" class="link-pag" >'.concat(i,"</button></li>")),n+='<li class="item-pag">\n        <button type="button" class="link-pag" >'.concat(e,"</button>\n      </li>"),t-1>e&&(n+='<li class="item-pag"><button type="button" class="link-pag" >'.concat(r,"</button></li>")),t-2>e&&(n+='<li class="item-pag"><button type="button" class="link-pag" >'.concat(a,"</button></li>")),t-3>e&&(n+='<li class="item-pag item-none"><button type="button" class="link-pag btn-pointer-event" >...</button></li>'),t>e&&(n+='<li class="item-pag item-none">\n        <button type="button" class="link-pag" >'.concat(t,"</button>\n      </li>")),t>e?n+='<li class="item-pag"><button type="button" class="link-pag link-pag--btn btn-right"></button></li>':t===e&&(n+='<li class="item-pag"><button type="button" class="link-pag link-pag--btn link-pag--hidden"></button></li>'),u.innerHTML=n,function(e,t){e<5?m=e:e===t?m=5:e<=5?(m=0,m=e):6===e&&(m=5);u.children[m].firstElementChild.classList.add("current")}(e,t);var o=document.querySelector(".library-header").firstElementChild.getBoundingClientRect().height;window.scrollBy({top:-13*o,behavior:"smooth"})}function v(e){if(window.screen.width>1280)if(d.classList.contains("pag-queue")){var t=o(JSON.parse(localStorage.getItem("queue-movies")),9);l(t[e-1]),g(e,t.length)}else{var n=o(JSON.parse(localStorage.getItem("watched-movies")),9);l(n[e-1]),g(e,n.length)}else if(window.screen.width>=768&window.screen.width<1280)if(d.classList.contains("pag-queue")){var i=o(JSON.parse(localStorage.getItem("queue-movies")),8);l(i[e-1]),g(e,i.length)}else{var a=o(JSON.parse(localStorage.getItem("watched-movies")),8);l(a[e-1]),g(e,a.length)}else if(window.screen.width<768)if(d.classList.contains("pag-queue")){var r=o(JSON.parse(localStorage.getItem("queue-movies")),4);l(r[e-1]),g(e,r.length)}else{var s=o(JSON.parse(localStorage.getItem("watched-movies")),4);l(s[e-1]),g(e,s.length)}}u.addEventListener("click",(function(e){if(Boolean(e.target.closest(".btn-right")))return void v(p+=1);if(Boolean(e.target.closest(".btn-left")))return void v(p-=1);if("BUTTON"!==e.target.nodeName)return;if("..."===e.target.textContent)return;v(Number(e.target.textContent))}));var b,h,f=document.querySelector(".js-btn-watched"),y=document.querySelector(".js-btn-queue"),w=document.querySelector(".js-pagination-box"),L=document.querySelector(".modal-film-card"),S=document.querySelector(".empty-library"),k=document.querySelector(".js-container");function _(){y.classList.add("pag-queue"),f.classList.remove("library-header__button--watched"),y.classList.add("library-header__button--queue");var e=localStorage.getItem("queue-movies"),t=JSON.parse(e)||[];if(0===t.length)return S.style.display="flex",void(k.style.display="none");try{w.classList.remove("is-hidden"),L.classList.add("modal-in-library"),S.style.display="none",k.style.display="block",x(t)}catch(e){console.log(e)}}function q(){y.classList.remove("pag-queue"),f.classList.add("library-header__button--watched"),y.classList.remove("library-header__button--queue");var e=localStorage.getItem("watched-movies"),t=JSON.parse(e)||[];if(0===t.length)return S.style.display="flex",void(k.style.display="none");try{w.classList.remove("is-hidden"),L.classList.add("modal-in-library"),S.style.display="none",k.style.display="block",x(t)}catch(e){console.log(e)}}function x(e){if(window.screen.width>1280){var t=o(e,9);l(t[0]),g(1,t.length)}else if(window.screen.width>=768&window.screen.width<1280){var n=o(e,8);l(n[0]),g(1,n.length)}else if(window.screen.width<768){var i=o(e,4);l(i[0]),g(1,i.length)}}y.addEventListener("click",_),f.addEventListener("click",q),b=localStorage.getItem("watched-movies"),0===(h=JSON.parse(b)||[]).length?(S.style.display="flex",k.style.display="none"):(L.classList.add("modal-in-library"),S.style.display="none",k.style.display="block",x(h));var E=r("bpxeT"),N=r("2TvXO"),O=r("dIxxU"),j=r("7rQOT"),T=r("l5SaA"),H=r("4MHRn"),J=r("1US9i");j.Loading.init({svgSize:"120px",svgColor:"#c4c4c4",backgroundColor:"rgba(0, 0, 0, 0.3)"});var M=document.querySelector(".modal-close-btn"),I=document.querySelector(".movie-card"),A=document.querySelector(".modal-card-box"),C=document.querySelector(".modal-film-content"),R=document.querySelector(".backdrop"),F=document.querySelector(".watched-btn"),U=document.querySelector(".queue-btn"),B=document.querySelector("body"),z=(document.querySelector(".modal-film-card"),document.querySelector(".js-btn-watched")),P=document.querySelector(".js-btn-queue"),D=document.querySelector(".js-trailer-btn"),Q=document.querySelector(".backdrop-trailer"),V=document.querySelector(".close-trailer-modal-btn"),W=document.querySelector(".modal-video_wrapper"),G=document.querySelector(".gallery");I.addEventListener("click",(function(e){return $.apply(this,arguments)}));var K=0,Y=0;function $(){return($=t(E)(t(N).mark((function e(n){var i,a,r,o;return t(N).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,K=JSON.parse(localStorage.getItem("watched-movies")).length,Y=JSON.parse(localStorage.getItem("queue-movies")).length,n.preventDefault(),B.style.overflow="hidden",document.addEventListener("click",ie),i=n.target.closest("li"),a=i.getAttribute("id"),e.next=10,Z(a);case 10:r=e.sent,j.Loading.circle(),o=r.data,localStorage.setItem("movie-from-open-modal",JSON.stringify(o)),X(o),D.classList.remove("is-hidden"),(0,H.getTrailerVideos)(a).then((function(e){e.length<=1?(D.classList.add("is-hidden"),document.querySelector(".single-trailer-wrapper").classList.add("is-hidden")):((0,H.createMainTrailerLink)(e),(0,H.createTrailerModalMarkup)(e))})),(0,J.getMoviePosters)(a).then((function(e){0===e.length?G.classList.add("is-hidden"):(0,J.createMoviePostersGallery)(e)})),(0,T.isWatched)(),(0,T.isQueue)(),j.Loading.remove(500),R.classList.remove("is-hidden"),document.addEventListener("keydown",te),M.addEventListener("click",ne),R.classList.contains("is-hidden")||(F.addEventListener("click",T.handleAddToWatched),U.addEventListener("click",T.handleAddToQueue)),R.classList.contains("is-hidden")&&(F.removeEventListener("click",T.handleAddToWatched),U.removeEventListener("click",T.handleAddToQueue)),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(0),console.log(e.t0);case 31:case"end":return e.stop()}}),e,null,[[0,28]])})))).apply(this,arguments)}function X(e){var t=e.genres.map((function(e){return e.name})),n="https://image.tmdb.org/t/p/w500".concat(e.poster_path);null===e.poster_path&&(n="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/No_image_available_500_x_500.svg/500px-No_image_available_500_x_500.svg.png"),A.innerHTML='<img id="'.concat(e.id,'" src="').concat(n,'" alt="').concat(e.title,'" class="modal-img"/>'),C.innerHTML='<h2 class="modal-title">'.concat(e.title,'</h2>\n        <table><tbody>\n      <tr>\n        <td class="characteristic td">Vote/Votes</td>\n        <td class="description"><span class="vote">').concat(Number(e.vote_average).toFixed(2),'</span>&nbsp;<span class="characteristic">/</span> &nbsp; ').concat(e.vote_count,'</td>\n      </tr>\n      <tr>\n        <td class="characteristic td">Popularity</td>\n        <td class="description">').concat(Number(e.popularity).toFixed(2),'</td>\n      </tr>\n      <tr>\n        <td class="characteristic td">Original title</td>\n        <td class="description description-title">').concat(e.title,'</td>\n      </tr>\n      <tr>\n        <td class="characteristic td">Genre</td>\n        <td class="description">').concat(t.join(", "),'</td>\n      </tr>\n    </tbody>\n    </table>\n    <div class="single-trailer-wrapper"></div>\n      <h3 class="description-title">About</h3>\n    <p class="description-text">').concat(e.overview,"</p>")}function Z(e){return ee.apply(this,arguments)}function ee(){return(ee=t(E)(t(N).mark((function e(n){return t(N).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.default.get("https://api.themoviedb.org/3/movie/".concat(n,"?api_key=cbdd4abbcb92dd438a6c3b40fc45e1be"));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function te(e){"Escape"===e.key&&(R.classList.add("is-hidden"),document.removeEventListener("keydown",te),ae(),B.style.overflow="visible")}function ne(){R.classList.add("is-hidden"),M.removeEventListener("click",ne),ae(),B.style.overflow="visible"}function ie(e){"backdrop"===e.target.className&&(R.classList.add("is-hidden"),document.removeEventListener("click",ie),ae(),B.style.overflow="visible")}function ae(){K!==JSON.parse(localStorage.getItem("watched-movies")).length&z.classList.contains("library-header__button--watched")?q():Y!==JSON.parse(localStorage.getItem("queue-movies")).length&P.classList.contains("library-header__button--queue")&&_()}function re(e){"backdrop-trailer"===e.target.className&&(Q.classList.add("is-hidden"),document.removeEventListener("click",ie),B.style.overflow="visible")}function oe(e){"Escape"===e.key&&(Q.classList.add("is-hidden"),document.removeEventListener("click",te),B.style.overflow="visible")}D.addEventListener("click",(function(e){e.preventDefault(),Q.classList.remove("is-hidden"),document.addEventListener("click",re),document.addEventListener("keydown",oe)})),V.addEventListener("click",(function(e){Q.classList.add("is-hidden"),V.removeEventListener("click",ne),B.style.overflow="visible",W.innerHTML="";var t=document.querySelector(".modal-img").getAttribute("id");(0,H.getTrailerVideos)(t).then((function(e){e.length<=1?(D.classList.add("is-hidden"),document.querySelector(".single-trailer-wrapper").classList.add("is-hidden")):(0,H.createTrailerModalMarkup)(e)}))})),r("4MHRn"),r("dozxP"),r("aZhHc")}();
//# sourceMappingURL=library.aa2e9ae9.js.map
